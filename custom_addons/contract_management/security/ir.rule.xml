<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Record Rule: Regular users can only see their own contracts -->
        <record id="contract_management_user_rule" model="ir.rule">
            <field name="name">Contract Management: User can only see own contracts</field>
            <field name="model_id" ref="model_contract_management"/>
            <field name="domain_force">[('contract_manager_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Record Rule: Admin users can see all contracts -->
        <record id="contract_management_admin_rule" model="ir.rule">
            <field name="name">Contract Management: Admin can see all contracts</field>
            <field name="model_id" ref="model_contract_management"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <!-- Record Rule: Regular users can only see deliverables of their own contracts -->
        <record id="contract_deliverable_user_rule" model="ir.rule">
            <field name="name">Contract Deliverable: User can only see deliverables of own contracts</field>
            <field name="model_id" ref="model_contract_deliverable"/>
            <field name="domain_force">[('contract_id.contract_manager_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Record Rule: Admin users can see all deliverables -->
        <record id="contract_deliverable_admin_rule" model="ir.rule">
            <field name="name">Contract Deliverable: Admin can see all deliverables</field>
            <field name="model_id" ref="model_contract_deliverable"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <!-- Record Rule: Regular users can only see amendments of their own contracts -->
        <record id="contract_amendment_user_rule" model="ir.rule">
            <field name="name">Contract Amendment: User can only see amendments of own contracts</field>
            <field name="model_id" ref="model_contract_management_amendment"/>
            <field name="domain_force">[('contract_id.contract_manager_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Record Rule: Admin users can see all amendments -->
        <record id="contract_amendment_admin_rule" model="ir.rule">
            <field name="name">Contract Amendment: Admin can see all amendments</field>
            <field name="model_id" ref="model_contract_management_amendment"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>
    </data>
</odoo>

