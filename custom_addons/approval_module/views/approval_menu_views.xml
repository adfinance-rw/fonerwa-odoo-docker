<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Override "My Requests" menu to make it a direct menu item (not under "My Approvals") -->
    <record id="approvals.approvals_request_menu_my" model="ir.ui.menu">
        <field name="name">My Requests</field>
        <field name="parent_id" ref="approvals.approvals_menu_root"/>
        <field name="sequence">10</field>
    </record>
    
    <!-- Hide the "My Approvals" parent menu if it exists -->
    <record id="approvals.approvals_approval_menu" model="ir.ui.menu">
        <field name="active" eval="False"/>
    </record>

    <!-- Override "All Approvals" action to restrict visibility to specific groups -->
    <record id="approvals.approval_request_action_all" model="ir.actions.act_window">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_user')])]"/>
    </record>

    <!-- Also restrict the "All Approvals" menu item -->
    <record id="approvals.approvals_approval_menu_all" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_user')])]"/>
    </record>

    <!-- Hide Manager menu unless user is Officer or Administrator -->
    <record id="approvals.approvals_menu_manager" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('approvals.group_approval_user'), ref('approvals.group_approval_manager')])]"/>
    </record>
</odoo>

